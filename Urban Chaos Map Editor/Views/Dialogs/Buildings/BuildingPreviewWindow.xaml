<Window x:Class="UrbanChaosMapEditor.Views.Dialogs.Buildings.BuildingPreviewWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:models="clr-namespace:UrbanChaosMapEditor.Models"
        Title="Building Preview"
        SizeToContent="WidthAndHeight"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterOwner"
        Background="#222222"
        TextElement.Foreground="White"
        Foreground="White">

    <!-- Bind the DataContext to the window itself so we can bind to its
         Building / BuildingId1 dependency properties -->
    <Window.DataContext>
        <Binding RelativeSource="{RelativeSource Self}" Mode="OneWay" />
    </Window.DataContext>

    <Border Padding="12"
            Background="#222222"
            BorderBrush="#444444"
            BorderThickness="1"
            CornerRadius="6">
        <StackPanel>

            <!-- Header -->
            <TextBlock FontSize="16" FontWeight="Bold" Margin="0,0,0,4">
                <Run Text="Building #"/>
                <!-- OneWay binding into window property -->
                <Run Text="{Binding BuildingId1, Mode=OneWay}" />
            </TextBlock>

            <Separator Margin="0,4,0,8"/>

            <!-- Facet range -->
            <StackPanel Margin="0,0,0,6">
                <TextBlock FontWeight="SemiBold" Text="Facet Range:"/>
                <TextBlock Margin="0,2,0,0">
                    <Run Text="Start (1-based): "/>
                    <Run Text="{Binding Building.StartFacet, Mode=OneWay}" />
                    <Run Text="   End (1-based, exclusive): "/>
                    <Run Text="{Binding Building.EndFacet, Mode=OneWay}" />
                </TextBlock>
            </StackPanel>

            <!-- World coords -->
            <StackPanel Margin="0,0,0,6">
                <TextBlock FontWeight="SemiBold" Text="World Position:"/>
                <TextBlock Margin="0,2,0,0">
                    <Run Text="X="/>
                    <Run Text="{Binding Building.WorldX, Mode=OneWay}" />
                    <Run Text="   Y="/>
                    <Run Text="{Binding Building.WorldY, Mode=OneWay}" />
                    <Run Text="   Z="/>
                    <Run Text="{Binding Building.WorldZ, Mode=OneWay}" />
                </TextBlock>
            </StackPanel>

            <!-- Walkable / Ware -->
            <StackPanel Margin="0,0,0,6">
                <TextBlock FontWeight="SemiBold" Text="Walkable / Warehouse:"/>
                <TextBlock Margin="0,2,0,0">
                    <Run Text="Walkable index: "/>
                    <Run Text="{Binding Building.Walkable, Mode=OneWay}" />
                    <Run Text="   Ware index: "/>
                    <Run Text="{Binding Building.Ware, Mode=OneWay}" />
                </TextBlock>
            </StackPanel>

            <!-- Type / Counters -->
            <StackPanel Margin="0,0,0,6">
                <TextBlock FontWeight="SemiBold" Text="Type / Counters:"/>
                <TextBlock Margin="0,2,0,0">
                    <Run Text="Type: "/>
                    <Run Text="{Binding Building.Type, Mode=OneWay}" />
                    <Run Text="   Counter0: "/>
                    <Run Text="{Binding Building.Counter0, Mode=OneWay}" />
                    <Run Text="   Counter1: "/>
                    <Run Text="{Binding Building.Counter1, Mode=OneWay}" />
                </TextBlock>
            </StackPanel>

            <Separator Margin="0,4,0,8"/>

            <TextBlock Opacity="0.6"
                       FontSize="11"
                       Text="Display-only preview of raw DBuildingRec. Editing UI to come." />

            <Button Content="Close"
                    Width="80"
                    Margin="0,10,0,0"
                    HorizontalAlignment="Right"
                    IsCancel="True" />
        </StackPanel>
    </Border>
</Window>
