<Window x:Class="UrbanChaosMapEditor.Views.Dialogs.Buildings.AddLadderWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Add Ladder" 
        Width="400" Height="520"
        Background="#202225"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">

    <Window.Resources>
        <SolidColorBrush x:Key="Fg" Color="White"/>
        <SolidColorBrush x:Key="Subtle" Color="#FFB0B0B0"/>
        <SolidColorBrush x:Key="EditableBg" Color="#2A2D32"/>
        <SolidColorBrush x:Key="EditableBorder" Color="#4A4D52"/>

        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="{StaticResource Fg}"/>
        </Style>

        <Style x:Key="EditableField" TargetType="TextBox">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Background" Value="{StaticResource EditableBg}"/>
            <Setter Property="BorderBrush" Value="{StaticResource EditableBorder}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="6,4"/>
            <Setter Property="Width" Value="70"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
        </Style>

        <Style x:Key="FieldLabel" TargetType="TextBlock">
            <Setter Property="Foreground" Value="{StaticResource Subtle}"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Width" Value="110"/>
        </Style>

        <Style x:Key="ActionButton" TargetType="Button">
            <Setter Property="Background" Value="#3A3D42"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#555"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="16,10"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="MinWidth" Value="100"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#4A4D52"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="PrimaryButton" TargetType="Button" BasedOn="{StaticResource ActionButton}">
            <Setter Property="Background" Value="#2D5A27"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#3D7A37"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="12"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="12"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0">
            <TextBlock Text="Add Ladder to Building" 
                       FontWeight="Bold" 
                       FontSize="16"/>
            <TextBlock x:Name="TxtBuildingInfo" 
                       Foreground="{StaticResource Subtle}"
                       Margin="0,4,0,0"/>
        </StackPanel>

        <!-- Properties -->
        <Border Grid.Row="2" 
                BorderBrush="#333" 
                BorderThickness="1" 
                CornerRadius="6" 
                Padding="16">
            <StackPanel>
                <TextBlock Text="Ladder Properties" FontWeight="SemiBold" Margin="0,0,0,12"/>

                <!-- Type (fixed) -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                    <TextBlock Text="Type:" Style="{StaticResource FieldLabel}"/>
                    <TextBlock Text="Ladder" FontWeight="SemiBold"/>
                </StackPanel>

                <!-- Height (storeys) -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                    <TextBlock Text="Height (storeys):" Style="{StaticResource FieldLabel}"/>
                    <TextBox x:Name="TxtHeight" 
                             Style="{StaticResource EditableField}" 
                             Text="4"
                             PreviewTextInput="NumericOnly_PreviewTextInput"/>
                    <TextBlock Text="(coarse)" 
                               Foreground="{StaticResource Subtle}" 
                               VerticalAlignment="Center"
                               Margin="8,0,0,0"/>
                </StackPanel>

                <!-- FHeight -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                    <TextBlock Text="Fine Height:" Style="{StaticResource FieldLabel}"/>
                    <TextBox x:Name="TxtFHeight" 
                             Style="{StaticResource EditableField}" 
                             Text="0"
                             PreviewTextInput="NumericOnly_PreviewTextInput"/>
                    <TextBlock Text="(0-255)" 
                               Foreground="{StaticResource Subtle}" 
                               VerticalAlignment="Center"
                               Margin="8,0,0,0"/>
                </StackPanel>

                <!-- BlockHeight -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                    <TextBlock Text="Block Height:" Style="{StaticResource FieldLabel}"/>
                    <TextBox x:Name="TxtBlockHeight" 
                             Style="{StaticResource EditableField}" 
                             Text="16"
                             PreviewTextInput="NumericOnly_PreviewTextInput"/>
                </StackPanel>

                <!-- Y0/Y1 (altitude) -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                    <TextBlock Text="Ground Altitude:" Style="{StaticResource FieldLabel}"/>
                    <TextBlock Text="Y0:" VerticalAlignment="Center" Margin="0,0,4,0"/>
                    <TextBox x:Name="TxtY0" 
                             Style="{StaticResource EditableField}" 
                             Width="60"
                             Text="0"
                             PreviewTextInput="SignedNumericOnly_PreviewTextInput"/>
                    <TextBlock Text="Y1:" VerticalAlignment="Center" Margin="12,0,4,0"/>
                    <TextBox x:Name="TxtY1" 
                             Style="{StaticResource EditableField}" 
                             Width="60"
                             Text="0"
                             PreviewTextInput="SignedNumericOnly_PreviewTextInput"/>
                </StackPanel>

                <!-- StyleIndex -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,0">
                    <TextBlock Text="Style Index:" Style="{StaticResource FieldLabel}"/>
                    <TextBox x:Name="TxtStyleIndex" 
                             Style="{StaticResource EditableField}" 
                             Text="1"
                             PreviewTextInput="NumericOnly_PreviewTextInput"/>
                </StackPanel>
            </StackPanel>
        </Border>
        <!-- Buttons -->
        <StackPanel Grid.Row="6" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right"
                    Margin="0,12,0,0">
            <Button Content="Cancel" 
                    Style="{StaticResource ActionButton}"
                    Click="BtnCancel_Click"
                    Margin="0,0,8,0"/>
            <Button x:Name="BtnPlace"
                    Content="🪜 Draw on Map" 
                    Style="{StaticResource PrimaryButton}"
                    Click="BtnPlace_Click"/>
        </StackPanel>
    </Grid>
</Window>
